<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evento+</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="shortcut icon" href="img/logo.svg">
    <link rel="stylesheet" type="text/css" href="css/estiloIndex.css" media="screen" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>
    <!-- navbar -->
    <header class="p-3 shadow">
        <div class="container-fluid">
            <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                <div id="logo">
                    <a href="index.html" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none col-xl-3">
                        <img src="img/evento+2.svg" alt="" style="width: 150px;" class="me-5">
                    </a>
                </div>
                <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3 col-xl-6" role="search">
                    <input type="search" class="form-control barraPesquisa" placeholder="Evento..." aria-label="Search">
                </form>

                <div class="text-center">
                    <button type="button" class="btn  me-5 btnEntrarCadastrar">Entrar | Cadastrar</button>
                </div>
            </div>
        </div>
    </header>
    <!-- localizacao -->
    <div class="container-fluid">
        <div class="row" style="background-color: #892CDC;">
            <div class="localizacao">
                <b><p id="address" class="text-center"></p></b>
            </div>
        </div>
    </div>
    <!-- submenu -->
    <div class="container-fluid">
        <div class="row">
            <div class="menu2 d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start col-xl-11 offset-xl-1">
                <a href="#/Home" class="menuLink me-5 animated-border"><span><b><i class="bi bi-arrow-up" style="color: #892CDC;"></i></b></span> Em Alta</a>
                <a href="#/AllianzParque" class="menuLink me-5 animated-border"><img src="img/allianzparquelogo.png" alt=""> Allianz Parque</a>
                <a href="#/AcontecendoAgora" class="menuLink me-5 animated-border"><i class="bi bi-circle-fill fa-exclamation-circle blinking-icon" style="color: green;"></i> Acontecendo Agora</a>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-10 offset-1" style="margin-top:2em">
                <!-- <img src="img/animaexpo.jpg" alt="" class="img-fluid" style="border-radius: 10px;"> -->
                <div class="carrossel-container">
                    <div class="slides">
                        <div class="slide banners">
                            <img src="img/animaexpo.jpg" alt="Foto 1">
                        </div>
                        <div class="slide banners">
                            <img src="https://via.placeholder.com/800x400?text=Foto+2" alt="Foto 2">
                        </div>
                        <div class="slide banners">
                            <img src="https://via.placeholder.com/800x400?text=Foto+3" alt="Foto 3">
                        </div>
                    </div>
                    <button class="prev" onclick="mudarSlide(-1)"><span class="material-icons">chevron_left</span></button>
                    <button class="next" onclick="mudarSlide(1)"><span class="material-icons">chevron_right</span></button>
                    <div class="bolinhas" id="bolinhas-container"></div>
                </div>
            </div>
        </div>
    </div>

    <br>
    <br>






    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="grupo-1\frontend.js"></script>
    <!-- JavaScript -->
    <script>
        // Chama a função de localização quando o site é totalmente carregado
        document.addEventListener("DOMContentLoaded", function() {
            getLocation();
        });

        function getLocation() {
            // Verifica se o navegador suporta a API de geolocalização
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition, showError);
            } else {
                document.getElementById("address").innerHTML = "Geolocalização não é suportada pelo seu navegador.";
            }
        }

        function showPosition(position) {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;

            // Converte as coordenadas para bairro e cidade
            getAddressFromCoordinates(latitude, longitude);
        }

        function getAddressFromCoordinates(lat, lon) {
            // URL da API Nominatim para conversão de coordenadas em endereço
            const url = `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lon}`;

            fetch(url)
                .then(response => response.json())
                .then(data => {
                    if (data && data.address) {
                        // Obtém o bairro e a cidade
                        const bairro = data.address.suburb || data.address.neighbourhood || "Bairro não disponível";
                        const cidade = data.address.city || data.address.town || data.address.village || "Cidade não disponível";
                        document.getElementById("address").innerHTML = `<i class="bi bi-geo-alt-fill"></i> ${bairro}, ${cidade}`;
                    } else {
                        document.getElementById("address").innerHTML = "Não foi possível obter o endereço.";
                    }
                })
                .catch(error => {
                    document.getElementById("address").innerHTML = "Erro ao obter endereço: " + error.message;
                });
        }

        function showError(error) {
            switch (error.code) {
                case error.PERMISSION_DENIED:
                    document.getElementById("address").innerHTML = "Permita para acessar-mos a localização.";
                    break;
                case error.POSITION_UNAVAILABLE:
                    document.getElementById("address").innerHTML = "Informação de localização não está disponível.";
                    break;
                case error.TIMEOUT:
                    document.getElementById("address").innerHTML = "O pedido para obter a localização expirou.";
                    break;
                case error.UNKNOWN_ERROR:
                    document.getElementById("address").innerHTML = "Ocorreu um erro desconhecido.";
                    break;
            }
        }
        <!-- js para carrossel -->
        let indiceAtual = 0;

        document.addEventListener("DOMContentLoaded", () => {
            const totalSlides = document.querySelectorAll('.slide').length;
            const bolinhasContainer = document.getElementById('bolinhas-container');

            for (let i = 0; i < totalSlides; i++) {
                const bolinha = document.createElement('div');
                bolinha.classList.add('bolinha');
                if (i === 0) bolinha.classList.add('ativa');
                bolinha.setAttribute('data-indice', i);
                bolinha.addEventListener('click', () => irParaSlide(i));
                bolinhasContainer.appendChild(bolinha);
            }
        });

        function mudarSlide(direcao) {
            const slides = document.querySelector('.slides');
            const totalSlides = document.querySelectorAll('.slide').length;

            indiceAtual += direcao;

            if (indiceAtual < 0) {
                indiceAtual = totalSlides - 1;
            } else if (indiceAtual >= totalSlides) {
                indiceAtual = 0;
            }

            slides.style.transform = `translateX(${-indiceAtual * 100}%)`;
            atualizarBolinhas();
        }

        function irParaSlide(indice) {
            indiceAtual = indice;
            const slides = document.querySelector('.slides');
            slides.style.transform = `translateX(${-indiceAtual * 100}%)`;
            atualizarBolinhas();
        }

        function atualizarBolinhas() {
            const bolinhas = document.querySelectorAll('.bolinha');
            bolinhas.forEach((bolinha, index) => {
                if (index === indiceAtual) {
                    bolinha.classList.add('ativa');
                } else {
                    bolinha.classList.remove('ativa');
                }
            });
        }
    </script>
</body>

</html>